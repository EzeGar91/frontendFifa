<div class="dashboard-container">
  <!-- Header del Dashboard -->
  <div class="dashboard-header">
    <h1>Dashboard de Jugadores</h1>
    <p class="subtitle">Busca y filtra jugadores por nombre, club y posici칩n</p>
  </div>

  <!-- Panel de B칰squeda -->
  <div class="search-panel">
    <form [formGroup]="searchForm" class="search-form">
      <div class="form-row">
        <div class="form-group">
          <label for="name">Nombre del Jugador</label>
          <input 
            id="name"
            type="text" 
            formControlName="name" 
            placeholder="Ej: Lionel Messi"
            class="form-input"
          />
        </div>

        <div class="form-group">
          <label for="club">Club</label>
          <input 
            id="club"
            type="text" 
            formControlName="club" 
            placeholder="Ej: FC Barcelona"
            class="form-input"
          />
        </div>

        <div class="form-group">
          <label for="position">Posici칩n</label>
          <select 
            id="position"
            formControlName="position" 
            class="form-select"
          >
            <option value="">Todas las posiciones</option>
            <option *ngFor="let position of positions" [value]="position">
              {{ position }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-actions">
        <button 
          type="button" 
          (click)="clearFilters()" 
          class="btn btn-secondary"
        >
          Limpiar Filtros
        </button>
        <button 
          type="button" 
          (click)="downloadCSV()" 
          class="btn btn-primary"
          [disabled]="isLoading"
        >
          <i class="download-icon">游닌</i>
          Descargar CSV
        </button>
      </div>
    </form>
  </div>

  <!-- Estad칤sticas -->
  <div class="stats-panel">
    <div class="stat-card">
      <div class="stat-number">{{ totalResults }}</div>
      <div class="stat-label">Jugadores encontrados</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">{{ players.length }}</div>
      <div class="stat-label">Total de jugadores</div>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner"></div>
    <p>Buscando jugadores...</p>
  </div>

  <!-- Lista de Jugadores -->
  <div *ngIf="!isLoading" class="players-container">
    <div *ngIf="filteredPlayers.length === 0" class="no-results">
      <div class="no-results-icon">游댌</div>
      <h3>No se encontraron jugadores</h3>
      <p>Intenta ajustar los filtros de b칰squeda</p>
    </div>

    <div *ngIf="filteredPlayers.length > 0" class="players-grid">
      <div 
        *ngFor="let player of filteredPlayers" 
        class="player-card"
      >
        <div class="player-header">
          <h3 class="player-name">{{ player.name }}</h3>
          <div class="player-overall">{{ player.overall }}</div>
        </div>
        
        <div class="player-details">
          <div class="player-info">
            <span class="info-label">Edad:</span>
            <span class="info-value">{{ player.age }} a침os</span>
          </div>
          
          <div class="player-info">
            <span class="info-label">Club:</span>
            <span class="info-value">{{ player.club }}</span>
          </div>
          
          <div class="player-info">
            <span class="info-label">Nacionalidad:</span>
            <span class="info-value">{{ player.nationality }}</span>
          </div>
          
          <div class="player-info">
            <span class="info-label">Posici칩n:</span>
            <span 
              class="info-value position-badge"
              [ngClass]="getPositionClass(player.position)"
            >
              {{ player.position }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
